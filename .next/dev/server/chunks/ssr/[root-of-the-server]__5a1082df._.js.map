{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/NathanParker/SynologyDrive/parker-bos/src/lib/firebase.ts"],"sourcesContent":["// Firebase *client* initialization (Auth/Firestore/Storage).\r\n// Intended for usage from Client Components only.\r\n\"use client\";\r\n\r\nimport { type FirebaseApp, type FirebaseOptions, getApps, initializeApp } from \"firebase/app\";\r\nimport { type Analytics, getAnalytics, isSupported } from \"firebase/analytics\";\r\nimport { type Auth, getAuth } from \"firebase/auth\";\r\nimport { type Firestore, getFirestore } from \"firebase/firestore\";\r\nimport { type FirebaseStorage, getStorage } from \"firebase/storage\";\r\n\r\nconst firebaseConfig: FirebaseOptions = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n  measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,\r\n};\r\n\r\nfunction missingFirebaseEnvVars(): string[] {\r\n  const missing: string[] = [];\r\n  if (!firebaseConfig.apiKey) missing.push(\"NEXT_PUBLIC_FIREBASE_API_KEY\");\r\n  if (!firebaseConfig.authDomain) missing.push(\"NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN\");\r\n  if (!firebaseConfig.projectId) missing.push(\"NEXT_PUBLIC_FIREBASE_PROJECT_ID\");\r\n  if (!firebaseConfig.appId) missing.push(\"NEXT_PUBLIC_FIREBASE_APP_ID\");\r\n  // These aren’t required for Auth, but are needed for other products:\r\n  if (!firebaseConfig.storageBucket) missing.push(\"NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET\");\r\n  if (!firebaseConfig.messagingSenderId) missing.push(\"NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID\");\r\n  return missing;\r\n}\r\n\r\n/** True if all required env vars are set (Firebase can be initialized). */\r\nexport function isFirebaseConfigured(): boolean {\r\n  return missingFirebaseEnvVars().length === 0;\r\n}\r\n\r\nfunction initFirebaseApp(): FirebaseApp {\r\n  const missing = missingFirebaseEnvVars();\r\n  if (missing.length) {\r\n    throw new Error(`Firebase is not configured. Missing: ${missing.join(\", \")}`);\r\n  }\r\n  return getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0]!;\r\n}\r\n\r\n// --- Canonical instances (no tenant / custom-domain configuration) ---\r\nexport const app: FirebaseApp = initFirebaseApp();\r\n\r\n// Per your requirement: getAuth(app)\r\nexport const auth: Auth = getAuth(app);\r\nexport const db: Firestore = getFirestore(app);\r\nexport const storage: FirebaseStorage = getStorage(app);\r\n\r\nexport function getFirebaseApp(): FirebaseApp {\r\n  return app;\r\n}\r\n\r\nexport function getFirebaseAuth(): Auth {\r\n  return auth;\r\n}\r\n\r\nexport function getFirestoreDb(): Firestore {\r\n  return db;\r\n}\r\n\r\nexport function getFirebaseStorage(): FirebaseStorage {\r\n  return storage;\r\n}\r\n\r\n/**\r\n * Analytics is optional and only works in the browser (and not all environments).\r\n * Call this from a Client Component effect (e.g. useEffect) when you actually need analytics.\r\n */\r\nexport async function getFirebaseAnalytics(): Promise<Analytics | undefined> {\r\n  if (typeof window === \"undefined\") return undefined;\r\n  return (await isSupported()) ? getAnalytics(app) : undefined;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAIA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AARA,6DAA6D;AAC7D,kDAAkD;AAClD;;;;;;AAQA,MAAM,iBAAkC;IACtC,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACf;AAEA,SAAS;IACP,MAAM,UAAoB,EAAE;IAC5B,IAAI,CAAC,eAAe,MAAM,EAAE,QAAQ,IAAI,CAAC;IACzC,IAAI,CAAC,eAAe,UAAU,EAAE,QAAQ,IAAI,CAAC;IAC7C,IAAI,CAAC,eAAe,SAAS,EAAE,QAAQ,IAAI,CAAC;IAC5C,IAAI,CAAC,eAAe,KAAK,EAAE,QAAQ,IAAI,CAAC;IACxC,qEAAqE;IACrE,IAAI,CAAC,eAAe,aAAa,EAAE,QAAQ,IAAI,CAAC;IAChD,IAAI,CAAC,eAAe,iBAAiB,EAAE,QAAQ,IAAI,CAAC;IACpD,OAAO;AACT;AAGO,SAAS;IACd,OAAO,yBAAyB,MAAM,KAAK;AAC7C;AAEA,SAAS;IACP,MAAM,UAAU;IAChB,IAAI,QAAQ,MAAM,EAAE;QAClB,MAAM,IAAI,MAAM,CAAC,qCAAqC,EAAE,QAAQ,IAAI,CAAC,OAAO;IAC9E;IACA,OAAO,IAAA,0OAAO,IAAG,MAAM,KAAK,IAAI,IAAA,gPAAa,EAAC,kBAAkB,IAAA,0OAAO,GAAE,CAAC,EAAE;AAC9E;AAGO,MAAM,MAAmB;AAGzB,MAAM,OAAa,IAAA,iRAAO,EAAC;AAC3B,MAAM,KAAgB,IAAA,0RAAY,EAAC;AACnC,MAAM,UAA2B,IAAA,ySAAU,EAAC;AAE5C,SAAS;IACd,OAAO;AACT;AAEO,SAAS;IACd,OAAO;AACT;AAEO,SAAS;IACd,OAAO;AACT;AAEO,SAAS;IACd,OAAO;AACT;AAMO,eAAe;IACpB,wCAAmC,OAAO;;;AAE5C"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/NathanParker/SynologyDrive/parker-bos/src/components/ChangeOrderForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport {\n  addDoc,\n  collection,\n  getDocs,\n  query,\n  where,\n  serverTimestamp,\n} from \"firebase/firestore\";\nimport {\n  type COCategory,\n  MATERIAL_MARKUP_TIERS,\n  suggestLaborBillingRate,\n  suggestMaterialMarkup,\n} from \"@/types/changeOrders\";\nimport { auth, db } from \"@/lib/firebase\";\n\nconst CO_CATEGORIES: COCategory[] = [\n  \"Owner Change\",\n  \"Field Condition\",\n  \"Design Error\",\n  \"Code Requirement\",\n  \"Other\",\n];\n\nconst num = (def: number) =>\n  z\n    .union([z.number(), z.nan()])\n    .transform((n) => (Number.isNaN(n) ? def : n))\n    .pipe(z.number().min(0));\n\nconst pct = (def: number) =>\n  z\n    .union([z.number(), z.nan()])\n    .transform((n) => (Number.isNaN(n) ? def : n))\n    .pipe(z.number().min(0).max(200));\n\nconst changeOrderFormSchema = z.object({\n  jobId: z.string().min(1, \"Select a job\"),\n  description: z.string().min(10, \"Description must be at least 10 characters\"),\n  category: z.enum([\n    \"Owner Change\",\n    \"Field Condition\",\n    \"Design Error\",\n    \"Code Requirement\",\n    \"Other\",\n  ]),\n  laborHours: num(0),\n  laborBurden: num(120),\n  laborBillingRate: num(120),\n  materialCost: num(0),\n  equipmentCost: num(0),\n  subcontractorCost: num(0),\n  otherCost: num(0),\n  laborMarkup: pct(15),\n  materialMarkup: pct(15),\n  subMarkup: pct(15),\n});\n\ntype ChangeOrderFormValues = z.infer<typeof changeOrderFormSchema>;\n\ntype JobOption = {\n  id: string;\n  jobNumber: string;\n  jobName: string;\n  projectPhase?: string;\n};\n\ntype ChangeOrderFormProps = {\n  onSuccess?: () => void;\n  onCancel?: () => void;\n};\n\nexport function ChangeOrderForm({ onSuccess, onCancel }: ChangeOrderFormProps) {\n  const [jobs, setJobs] = useState<JobOption[]>([]);\n  const [jobsLoading, setJobsLoading] = useState(true);\n  const [submitError, setSubmitError] = useState<string | null>(null);\n  const [submitting, setSubmitting] = useState(false);\n\n  const {\n    register,\n    handleSubmit,\n    watch,\n    setValue,\n    formState: { errors },\n  } = useForm<ChangeOrderFormValues>({\n    resolver: zodResolver(changeOrderFormSchema),\n    defaultValues: {\n      jobId: \"\",\n      description: \"\",\n      category: \"Other\",\n      laborHours: 0,\n      laborBurden: 120,\n      laborBillingRate: 120,\n      materialCost: 0,\n      equipmentCost: 0,\n      subcontractorCost: 0,\n      otherCost: 0,\n      laborMarkup: 15,\n      materialMarkup: 15,\n      subMarkup: 15,\n    },\n  });\n\n  const laborHours = watch(\"laborHours\");\n  const laborBurden = watch(\"laborBurden\");\n  const laborBillingRate = watch(\"laborBillingRate\");\n  const materialCost = watch(\"materialCost\");\n  const equipmentCost = watch(\"equipmentCost\");\n  const subcontractorCost = watch(\"subcontractorCost\");\n  const otherCost = watch(\"otherCost\");\n  const laborMarkup = watch(\"laborMarkup\");\n  const materialMarkup = watch(\"materialMarkup\");\n  const subMarkup = watch(\"subMarkup\");\n\n  // Auto-suggest material markup when material cost changes\n  useEffect(() => {\n    const suggested = suggestMaterialMarkup(materialCost);\n    setValue(\"materialMarkup\", suggested);\n  }, [materialCost, setValue]);\n\n  // Auto-suggest labor billing rate when labor hours change\n  useEffect(() => {\n    const suggested = suggestLaborBillingRate(laborHours);\n    setValue(\"laborBillingRate\", suggested);\n  }, [laborHours, setValue]);\n\n  const totals = useMemo(() => {\n    const laborCost = laborHours * laborBurden;\n    const laborBilling = laborHours * laborBillingRate;\n    const laborMarkedUp =\n      (laborCost + equipmentCost) * (1 + laborMarkup / 100);\n    const materialMarkedUp = materialCost * (1 + materialMarkup / 100);\n    const subMarkedUp =\n      (subcontractorCost + otherCost) * (1 + subMarkup / 100);\n    const amountRequested =\n      laborCost +\n      materialCost +\n      equipmentCost +\n      subcontractorCost +\n      otherCost;\n    const amountApproved = laborMarkedUp + materialMarkedUp + subMarkedUp;\n    return {\n      laborCost,\n      laborBilling,\n      laborMarkedUp,\n      materialMarkedUp,\n      subMarkedUp,\n      amountRequested,\n      amountApproved,\n    };\n  }, [\n    laborHours,\n    laborBurden,\n    laborBillingRate,\n    materialCost,\n    equipmentCost,\n    subcontractorCost,\n    otherCost,\n    laborMarkup,\n    materialMarkup,\n    subMarkup,\n  ]);\n\n  // Load active jobs\n  useEffect(() => {\n    let cancelled = false;\n\n    async function loadJobs() {\n      try {\n        const q = query(\n          collection(db, \"jobs\"),\n          where(\"projectPhase\", \"in\", [\"Bidding\", \"Active\"])\n        );\n        const snapshot = await getDocs(q);\n        if (cancelled) return;\n        const list: JobOption[] = snapshot.docs.map((docSnap) => {\n          const d = docSnap.data();\n          return {\n            id: docSnap.id,\n            jobNumber: (d.jobNumber as string) ?? \"\",\n            jobName: (d.jobName as string) ?? \"\",\n            projectPhase: d.projectPhase as string | undefined,\n          };\n        });\n        setJobs(list);\n      } catch {\n        if (!cancelled) setJobs([]);\n      } finally {\n        if (!cancelled) setJobsLoading(false);\n      }\n    }\n\n    loadJobs();\n    return () => {\n      cancelled = true;\n    };\n  }, []);\n\n  async function onSubmit(data: ChangeOrderFormValues) {\n    const user = auth.currentUser;\n    if (!user) {\n      setSubmitError(\"You must be signed in to create a change order.\");\n      return;\n    }\n\n    const selectedJob = jobs.find((j) => j.id === data.jobId);\n    if (!selectedJob) {\n      setSubmitError(\"Selected job not found.\");\n      return;\n    }\n\n    setSubmitError(null);\n    setSubmitting(true);\n\n    try {\n      await addDoc(collection(db, \"changeOrders\"), {\n        coNumber: \"\",\n        jobId: data.jobId,\n        jobNumber: selectedJob.jobNumber,\n        jobName: selectedJob.jobName,\n        description: data.description,\n        category: data.category,\n        laborHours: data.laborHours,\n        laborBurden: data.laborBurden,\n        laborBillingRate: data.laborBillingRate,\n        laborCost: totals.laborCost,\n        laborBilling: totals.laborBilling,\n        materialCost: data.materialCost,\n        equipmentCost: data.equipmentCost,\n        subcontractorCost: data.subcontractorCost,\n        otherCost: data.otherCost,\n        laborMarkup: data.laborMarkup,\n        materialMarkup: data.materialMarkup,\n        subMarkup: data.subMarkup,\n        laborMarkedUp: totals.laborMarkedUp,\n        materialMarkedUp: totals.materialMarkedUp,\n        subMarkedUp: totals.subMarkedUp,\n        amountRequested: totals.amountRequested,\n        amountApproved: totals.amountApproved,\n        status: \"Draft\",\n        requestedBy: user.uid,\n        requestedByName: user.displayName ?? user.email ?? \"\",\n        supportingDocs: [],\n        createdAt: serverTimestamp(),\n        updatedAt: serverTimestamp(),\n      });\n      onSuccess?.();\n    } catch (err) {\n      setSubmitError(\n        err instanceof Error ? err.message : \"Failed to create change order.\"\n      );\n    } finally {\n      setSubmitting(false);\n    }\n  }\n\n  return (\n    <form\n      onSubmit={handleSubmit(onSubmit)}\n      className=\"space-y-6 rounded-2xl border border-gray-100 bg-white p-6 shadow-sm\"\n    >\n      {/* Job selector */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700\">\n          Job\n        </label>\n        <select\n          {...register(\"jobId\")}\n          disabled={jobsLoading}\n          className=\"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:bg-gray-50\"\n        >\n          <option value=\"\">{jobsLoading ? \"Loading jobs…\" : \"Select a job\"}</option>\n          {jobs.map((job) => (\n            <option key={job.id} value={job.id}>\n              {job.jobNumber} - {job.jobName}\n            </option>\n          ))}\n        </select>\n        {errors.jobId && (\n          <p className=\"mt-1 text-xs text-red-600\">{errors.jobId.message}</p>\n        )}\n      </div>\n\n      {/* Category and description */}\n      <div className=\"grid gap-4 sm:grid-cols-2\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700\">\n            Category\n          </label>\n          <select\n            {...register(\"category\")}\n            className=\"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n          >\n            {CO_CATEGORIES.map((c) => (\n              <option key={c} value={c}>\n                {c}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div className=\"sm:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-700\">\n            Description\n          </label>\n          <textarea\n            {...register(\"description\")}\n            rows={2}\n            className=\"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n            placeholder=\"Describe the scope of the change order (min 10 characters)\"\n          />\n          {errors.description && (\n            <p className=\"mt-1 text-xs text-red-600\">\n              {errors.description.message}\n            </p>\n          )}\n        </div>\n      </div>\n\n      {/* Cost inputs grid */}\n      <div>\n        <h3 className=\"text-sm font-semibold text-gray-900\">Raw costs</h3>\n        <div className=\"mt-3 grid gap-4 sm:grid-cols-2 lg:grid-cols-4\">\n          <div>\n            <label className=\"block text-xs font-medium text-gray-600\">\n              Labor hours\n            </label>\n            <input\n              type=\"number\"\n              step=\"0.25\"\n              min={0}\n              {...register(\"laborHours\", { valueAsNumber: true })}\n              className=\"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-xs font-medium text-gray-600\">\n              Labor burden ($/hr)\n            </label>\n            <input\n              type=\"number\"\n              step=\"1\"\n              min={0}\n              {...register(\"laborBurden\", { valueAsNumber: true })}\n              className=\"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-xs font-medium text-gray-600\">\n              Labor billing rate ($/hr)\n            </label>\n            <input\n              type=\"number\"\n              step=\"1\"\n              min={0}\n              {...register(\"laborBillingRate\", { valueAsNumber: true })}\n              className=\"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n            />\n          </div>\n          <div className=\"flex flex-col justify-end gap-1 lg:flex-row lg:items-center lg:gap-2\">\n            <span className=\"text-xs text-gray-500\">\n              Labor cost: ${totals.laborCost.toFixed(2)} · Billing: $\n              {totals.laborBilling.toFixed(2)}\n            </span>\n          </div>\n          {(\n            [\n              [\"materialCost\", \"Material\"],\n              [\"equipmentCost\", \"Equipment\"],\n              [\"subcontractorCost\", \"Subcontractor\"],\n              [\"otherCost\", \"Other\"],\n            ] as const\n          ).map(([name, label]) => (\n            <div key={name}>\n              <label className=\"block text-xs font-medium text-gray-600\">\n                {label}\n              </label>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                min={0}\n                {...register(name, { valueAsNumber: true })}\n                className=\"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n              />\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Markup section with material tier reference */}\n      <div className=\"flex flex-col gap-4 lg:flex-row lg:items-start\">\n        <div className=\"flex-1\">\n          <h3 className=\"text-sm font-semibold text-gray-900\">\n            Markup rates (%)\n          </h3>\n          <div className=\"mt-3 grid gap-4 sm:grid-cols-3\">\n            <div>\n              <label className=\"block text-xs font-medium text-gray-600\">\n                Labor + equipment\n              </label>\n              <input\n                type=\"number\"\n                step=\"0.1\"\n                min={0}\n                max={200}\n                {...register(\"laborMarkup\", { valueAsNumber: true })}\n                className=\"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-xs font-medium text-gray-600\">\n                Material\n              </label>\n              <input\n                type=\"number\"\n                step=\"0.1\"\n                min={0}\n                max={200}\n                {...register(\"materialMarkup\", { valueAsNumber: true })}\n                className=\"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-xs font-medium text-gray-600\">\n                Sub + other\n              </label>\n              <input\n                type=\"number\"\n                step=\"0.1\"\n                min={0}\n                max={200}\n                {...register(\"subMarkup\", { valueAsNumber: true })}\n                className=\"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"shrink-0 rounded-lg border border-gray-200 bg-gray-50 px-3 py-2 lg:max-w-xs\">\n          <p className=\"text-xs font-semibold text-gray-700\">\n            Material markup tiers (reference)\n          </p>\n          <table className=\"mt-1 w-full text-left text-xs text-gray-600\">\n            <thead>\n              <tr>\n                <th className=\"font-medium\">Range</th>\n                <th className=\"text-right font-medium\">Suggested %</th>\n              </tr>\n            </thead>\n            <tbody>\n              {MATERIAL_MARKUP_TIERS.map((tier) => (\n                <tr key={tier.label}>\n                  <td>{tier.label}</td>\n                  <td className=\"text-right\">{tier.suggested}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Live totals summary */}\n      <div className=\"rounded-xl border border-gray-200 bg-gray-50 px-4 py-3\">\n        <h3 className=\"text-sm font-semibold text-gray-900\">\n          Calculated totals\n        </h3>\n        <dl className=\"mt-2 grid gap-1 text-sm sm:grid-cols-2 lg:grid-cols-5\">\n          <div>\n            <dt className=\"text-gray-500\">Labor + equip marked up</dt>\n            <dd className=\"font-medium text-gray-900\">\n              ${totals.laborMarkedUp.toFixed(2)}\n            </dd>\n          </div>\n          <div>\n            <dt className=\"text-gray-500\">Material marked up</dt>\n            <dd className=\"font-medium text-gray-900\">\n              ${totals.materialMarkedUp.toFixed(2)}\n            </dd>\n          </div>\n          <div>\n            <dt className=\"text-gray-500\">Sub + other marked up</dt>\n            <dd className=\"font-medium text-gray-900\">\n              ${totals.subMarkedUp.toFixed(2)}\n            </dd>\n          </div>\n          <div>\n            <dt className=\"text-gray-500\">Amount requested</dt>\n            <dd className=\"font-medium text-gray-900\">\n              ${totals.amountRequested.toFixed(2)}\n            </dd>\n          </div>\n          <div>\n            <dt className=\"text-gray-500\">Amount approved</dt>\n            <dd className=\"font-semibold text-gray-900\">\n              ${totals.amountApproved.toFixed(2)}\n            </dd>\n          </div>\n        </dl>\n      </div>\n\n      {submitError && (\n        <p className=\"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700\">\n          {submitError}\n        </p>\n      )}\n\n      <div className=\"flex gap-3\">\n        <button\n          type=\"submit\"\n          disabled={submitting}\n          className=\"inline-flex items-center justify-center rounded-xl bg-blue-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2\"\n        >\n          {submitting ? \"Saving…\" : \"Create change order\"}\n        </button>\n        {onCancel && (\n          <button\n            type=\"button\"\n            onClick={onCancel}\n            disabled={submitting}\n            className=\"inline-flex items-center justify-center rounded-xl border border-gray-300 bg-white px-4 py-2.5 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 disabled:opacity-60 disabled:cursor-not-allowed focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2\"\n          >\n            Cancel\n          </button>\n        )}\n      </div>\n    </form>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1169, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/NathanParker/SynologyDrive/parker-bos/src/app/change-orders/new/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { ChangeOrderForm } from \"@/components/ChangeOrderForm\";\n\nexport default function NewChangeOrderPage() {\n  const router = useRouter();\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"mx-auto max-w-3xl px-4 py-8 sm:px-6 lg:px-8\">\n        <h1 className=\"text-2xl font-bold text-gray-900 sm:text-3xl\">\n          New Change Order\n        </h1>\n        <div className=\"mt-6\">\n          <ChangeOrderForm\n            onSuccess={() => router.push(\"/change-orders\")}\n            onCancel={() => router.push(\"/change-orders\")}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,SAAS,IAAA,8PAAS;IAExB,qBACE,6VAAC;QAAI,WAAU;kBACb,cAAA,6VAAC;YAAI,WAAU;;8BACb,6VAAC;oBAAG,WAAU;8BAA+C;;;;;;8BAG7D,6VAAC;oBAAI,WAAU;8BACb,cAAA,6VAAC,wJAAe;wBACd,WAAW,IAAM,OAAO,IAAI,CAAC;wBAC7B,UAAU,IAAM,OAAO,IAAI,CAAC;;;;;;;;;;;;;;;;;;;;;;AAMxC"}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/NathanParker/SynologyDrive/parker-bos/src/types/changeOrders.ts"],"sourcesContent":["export type COCategory =\n  | \"Owner Change\"\n  | \"Field Condition\"\n  | \"Design Error\"\n  | \"Code Requirement\"\n  | \"Other\";\n\nexport type COStatus =\n  | \"Draft\"\n  | \"Submitted\"\n  | \"Under Review\"\n  | \"Approved\"\n  | \"Rejected\"\n  | \"Executed\"\n  | \"Billed\";\n\nexport const MATERIAL_MARKUP_TIERS = [\n  { maxCost: 999, label: \"Under $1,000\", suggested: 50 },\n  { maxCost: 4_999, label: \"$1,000-$4,999\", suggested: 30 },\n  { maxCost: 9_999, label: \"$5,000-$9,999\", suggested: 20 },\n  { maxCost: Infinity, label: \"$10,000+\", suggested: 15 },\n] as const;\n\nexport function suggestMaterialMarkup(materialCost: number): number {\n  const tier = MATERIAL_MARKUP_TIERS.find((t) => materialCost <= t.maxCost);\n  return tier ? tier.suggested : 15;\n}\n\nexport const LABOR_RATE_TIERS = [\n  { maxHours: 9.99, label: \"0-9.99 hrs\", suggested: 250 },\n  { maxHours: 19.99, label: \"10-19.99 hrs\", suggested: 200 },\n  { maxHours: Infinity, label: \"20+ hrs\", suggested: 175 },\n] as const;\n\nexport function suggestLaborRate(hours: number): number {\n  const tier = LABOR_RATE_TIERS.find((t) => hours <= t.maxHours);\n  return tier ? tier.suggested : 175;\n}\n\nexport interface ChangeOrder {\n  id: string;\n  coNumber: string;\n  jobId: string;\n  jobNumber: string;\n  jobName: string;\n  subject: string;\n  description: string;\n  category: COCategory;\n  laborHours: number;\n  materialCost: number;\n  equipmentCost: number;\n  subcontractorCost: number;\n  otherCost: number;\n  laborBurden: number;\n  laborBillingRate: number;\n  materialMarkup: number;\n  subMarkup: number;\n  laborCost: number;\n  laborBilling: number;\n  laborMarkedUp: number;\n  materialMarkedUp: number;\n  subMarkedUp: number;\n  amountRequested: number;\n  amountApproved: number;\n  status: COStatus;\n  submittedAt?: any;\n  underReviewAt?: any;\n  approvedAt?: any;\n  rejectedAt?: any;\n  requestedBy: string;\n  requestedByName: string;\n  approvedBy?: string;\n  approvedByName?: string;\n  approvalDocUrl?: string;\n  supportingDocs: string[];\n  internalNotes?: string;\n  clientNotes?: string;\n  rejectionReason?: string;\n  relatedInventoryItems?: string[];\n  billedOnInvoiceId?: string;\n  createdAt: any;\n  updatedAt: any;\n}\n"],"names":[],"mappings":";;;;;;;;;;AAgBO,MAAM,wBAAwB;IACnC;QAAE,SAAS;QAAK,OAAO;QAAgB,WAAW;IAAG;IACrD;QAAE,SAAS;QAAO,OAAO;QAAiB,WAAW;IAAG;IACxD;QAAE,SAAS;QAAO,OAAO;QAAiB,WAAW;IAAG;IACxD;QAAE,SAAS;QAAU,OAAO;QAAY,WAAW;IAAG;CACvD;AAEM,SAAS,sBAAsB,YAAoB;IACxD,MAAM,OAAO,sBAAsB,IAAI,CAAC,CAAC,IAAM,gBAAgB,EAAE,OAAO;IACxE,OAAO,OAAO,KAAK,SAAS,GAAG;AACjC;AAEO,MAAM,mBAAmB;IAC9B;QAAE,UAAU;QAAM,OAAO;QAAc,WAAW;IAAI;IACtD;QAAE,UAAU;QAAO,OAAO;QAAgB,WAAW;IAAI;IACzD;QAAE,UAAU;QAAU,OAAO;QAAW,WAAW;IAAI;CACxD;AAEM,SAAS,iBAAiB,KAAa;IAC5C,MAAM,OAAO,iBAAiB,IAAI,CAAC,CAAC,IAAM,SAAS,EAAE,QAAQ;IAC7D,OAAO,OAAO,KAAK,SAAS,GAAG;AACjC"}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/NathanParker/SynologyDrive/parker-bos/src/lib/firebase.ts"],"sourcesContent":["// Firebase *client* initialization (Auth/Firestore/Storage).\r\n// Intended for usage from Client Components only.\r\n\"use client\";\r\n\r\nimport { type FirebaseApp, type FirebaseOptions, getApps, initializeApp } from \"firebase/app\";\r\nimport { type Analytics, getAnalytics, isSupported } from \"firebase/analytics\";\r\nimport { type Auth, getAuth } from \"firebase/auth\";\r\nimport { type Firestore, getFirestore } from \"firebase/firestore\";\r\nimport { type FirebaseStorage, getStorage } from \"firebase/storage\";\r\n\r\nconst firebaseConfig: FirebaseOptions = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n  measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,\r\n};\r\n\r\nfunction missingFirebaseEnvVars(): string[] {\r\n  const missing: string[] = [];\r\n  if (!firebaseConfig.apiKey) missing.push(\"NEXT_PUBLIC_FIREBASE_API_KEY\");\r\n  if (!firebaseConfig.authDomain) missing.push(\"NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN\");\r\n  if (!firebaseConfig.projectId) missing.push(\"NEXT_PUBLIC_FIREBASE_PROJECT_ID\");\r\n  if (!firebaseConfig.appId) missing.push(\"NEXT_PUBLIC_FIREBASE_APP_ID\");\r\n  // These aren’t required for Auth, but are needed for other products:\r\n  if (!firebaseConfig.storageBucket) missing.push(\"NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET\");\r\n  if (!firebaseConfig.messagingSenderId) missing.push(\"NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID\");\r\n  return missing;\r\n}\r\n\r\n/** True if all required env vars are set (Firebase can be initialized). */\r\nexport function isFirebaseConfigured(): boolean {\r\n  return missingFirebaseEnvVars().length === 0;\r\n}\r\n\r\nfunction initFirebaseApp(): FirebaseApp {\r\n  const missing = missingFirebaseEnvVars();\r\n  if (missing.length) {\r\n    throw new Error(`Firebase is not configured. Missing: ${missing.join(\", \")}`);\r\n  }\r\n  return getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0]!;\r\n}\r\n\r\n// --- Canonical instances (no tenant / custom-domain configuration) ---\r\nexport const app: FirebaseApp = initFirebaseApp();\r\n\r\n// Per your requirement: getAuth(app)\r\nexport const auth: Auth = getAuth(app);\r\nexport const db: Firestore = getFirestore(app);\r\nexport const storage: FirebaseStorage = getStorage(app);\r\n\r\nexport function getFirebaseApp(): FirebaseApp {\r\n  return app;\r\n}\r\n\r\nexport function getFirebaseAuth(): Auth {\r\n  return auth;\r\n}\r\n\r\nexport function getFirestoreDb(): Firestore {\r\n  return db;\r\n}\r\n\r\nexport function getFirebaseStorage(): FirebaseStorage {\r\n  return storage;\r\n}\r\n\r\n/**\r\n * Analytics is optional and only works in the browser (and not all environments).\r\n * Call this from a Client Component effect (e.g. useEffect) when you actually need analytics.\r\n */\r\nexport async function getFirebaseAnalytics(): Promise<Analytics | undefined> {\r\n  if (typeof window === \"undefined\") return undefined;\r\n  return (await isSupported()) ? getAnalytics(app) : undefined;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAIA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AARA,6DAA6D;AAC7D,kDAAkD;AAClD;;;;;;AAQA,MAAM,iBAAkC;IACtC,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACf;AAEA,SAAS;IACP,MAAM,UAAoB,EAAE;IAC5B,IAAI,CAAC,eAAe,MAAM,EAAE,QAAQ,IAAI,CAAC;IACzC,IAAI,CAAC,eAAe,UAAU,EAAE,QAAQ,IAAI,CAAC;IAC7C,IAAI,CAAC,eAAe,SAAS,EAAE,QAAQ,IAAI,CAAC;IAC5C,IAAI,CAAC,eAAe,KAAK,EAAE,QAAQ,IAAI,CAAC;IACxC,qEAAqE;IACrE,IAAI,CAAC,eAAe,aAAa,EAAE,QAAQ,IAAI,CAAC;IAChD,IAAI,CAAC,eAAe,iBAAiB,EAAE,QAAQ,IAAI,CAAC;IACpD,OAAO;AACT;AAGO,SAAS;IACd,OAAO,yBAAyB,MAAM,KAAK;AAC7C;AAEA,SAAS;IACP,MAAM,UAAU;IAChB,IAAI,QAAQ,MAAM,EAAE;QAClB,MAAM,IAAI,MAAM,CAAC,qCAAqC,EAAE,QAAQ,IAAI,CAAC,OAAO;IAC9E;IACA,OAAO,IAAA,0OAAO,IAAG,MAAM,KAAK,IAAI,IAAA,gPAAa,EAAC,kBAAkB,IAAA,0OAAO,GAAE,CAAC,EAAE;AAC9E;AAGO,MAAM,MAAmB;AAGzB,MAAM,OAAa,IAAA,iRAAO,EAAC;AAC3B,MAAM,KAAgB,IAAA,0RAAY,EAAC;AACnC,MAAM,UAA2B,IAAA,ySAAU,EAAC;AAE5C,SAAS;IACd,OAAO;AACT;AAEO,SAAS;IACd,OAAO;AACT;AAEO,SAAS;IACd,OAAO;AACT;AAEO,SAAS;IACd,OAAO;AACT;AAMO,eAAe;IACpB,wCAAmC,OAAO;;;AAE5C"}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/NathanParker/SynologyDrive/parker-bos/src/components/ChangeOrderReview.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport {\n  doc,\n  getDoc,\n  updateDoc,\n  serverTimestamp,\n} from \"firebase/firestore\";\nimport {\n  type COStatus,\n  LABOR_RATE_TIERS,\n  MATERIAL_MARKUP_TIERS,\n  suggestLaborRate,\n  suggestMaterialMarkup,\n} from \"@/types/changeOrders\";\nimport { auth, db } from \"@/lib/firebase\";\n\nconst STATUS_BADGE_CLASS: Record<COStatus, string> = {\n  Draft: \"bg-gray-100 text-gray-800\",\n  Submitted: \"bg-blue-100 text-blue-800\",\n  \"Under Review\": \"bg-yellow-100 text-yellow-800\",\n  Approved: \"bg-green-100 text-green-800\",\n  Rejected: \"bg-red-100 text-red-800\",\n  Executed: \"bg-purple-100 text-purple-800\",\n  Billed: \"bg-teal-100 text-teal-800\",\n};\n\ntype ChangeOrderReviewProps = {\n  coId: string;\n  onClose?: () => void;\n};\n\nfunction formatCurrency(n: number): string {\n  return new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  }).format(n);\n}\n\nfunction formatDate(value: unknown): string {\n  if (value == null) return \"—\";\n  if (typeof value === \"object\" && \"toDate\" in value && typeof (value as { toDate: () => Date }).toDate === \"function\") {\n    return new Date((value as { toDate: () => Date }).toDate()).toLocaleString();\n  }\n  if (typeof value === \"string\" || typeof value === \"number\") {\n    return new Date(value).toLocaleString();\n  }\n  return \"—\";\n}\n\nexport function ChangeOrderReview({ coId, onClose }: ChangeOrderReviewProps) {\n  const [co, setCo] = useState<Record<string, unknown> | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [approving, setApproving] = useState(false);\n  const [rejecting, setRejecting] = useState(false);\n  const [rejectionReason, setRejectionReason] = useState(\"\");\n  const [showRejectInput, setShowRejectInput] = useState(false);\n\n  // Editable rates (only when status is Submitted or Under Review)\n  const [laborBurden, setLaborBurden] = useState(120);\n  const [laborBillingRate, setLaborBillingRate] = useState(250);\n  const [materialMarkup, setMaterialMarkup] = useState(15);\n  const [subMarkup, setSubMarkup] = useState(15);\n\n  useEffect(() => {\n    let cancelled = false;\n\n    async function load() {\n      setLoading(true);\n      setError(null);\n      try {\n        const ref = doc(db, \"changeOrders\", coId);\n        const snap = await getDoc(ref);\n        if (cancelled) return;\n        if (!snap.exists()) {\n          setError(\"Change order not found.\");\n          setCo(null);\n          return;\n        }\n        const data = { id: snap.id, ...snap.data() } as Record<string, unknown>;\n        setCo(data);\n\n        const status = data.status as COStatus;\n        if (status === \"Submitted\") {\n          await updateDoc(ref, {\n            status: \"Under Review\",\n            underReviewAt: serverTimestamp(),\n            updatedAt: serverTimestamp(),\n          });\n          if (!cancelled) setCo((prev) => (prev ? { ...prev, status: \"Under Review\" } : null));\n        }\n\n        // Populate editable rates from CO\n        const lb = Number(data.laborBurden) || 120;\n        const lbr = Number(data.laborBillingRate) ?? suggestLaborRate(Number(data.laborHours) || 0);\n        const mm = Number(data.materialMarkup) ?? suggestMaterialMarkup(Number(data.materialCost) || 0);\n        const sm = Number(data.subMarkup) || 15;\n        setLaborBurden(lb);\n        setLaborBillingRate(lbr);\n        setMaterialMarkup(mm);\n        setSubMarkup(sm);\n      } catch (err) {\n        if (!cancelled) {\n          setError(err instanceof Error ? err.message : \"Failed to load change order.\");\n          setCo(null);\n        }\n      } finally {\n        if (!cancelled) setLoading(false);\n      }\n    }\n\n    load();\n    return () => { cancelled = true; };\n  }, [coId]);\n\n  const totals = useMemo(() => {\n    if (!co) return null;\n    const hours = Number(co.laborHours) || 0;\n    const burden = Number(laborBurden) || 0;\n    const rate = Number(laborBillingRate) || 0;\n    const mat = Number(co.materialCost) || 0;\n    const matPct = Number(materialMarkup) || 0;\n    const sub = Number(co.subcontractorCost) || 0;\n    const other = Number(co.otherCost) || 0;\n    const subPct = Number(subMarkup) || 0;\n\n    const laborCost = hours * burden;\n    const laborBilling = hours * rate;\n    const laborMarkedUp = laborBilling;\n    const materialMarkedUp = mat * (1 + matPct / 100);\n    const subMarkedUp = (sub + other) * (1 + subPct / 100);\n    const amountApproved = laborMarkedUp + materialMarkedUp + subMarkedUp;\n\n    return {\n      laborCost,\n      laborBilling,\n      laborMarkedUp,\n      materialMarkedUp,\n      subMarkedUp,\n      amountApproved,\n    };\n  }, [co, laborBurden, laborBillingRate, materialMarkup, subMarkup]);\n\n  async function handleApprove() {\n    if (!co || !totals) return;\n    const user = auth.currentUser;\n    if (!user) return;\n    setApproving(true);\n    try {\n      const ref = doc(db, \"changeOrders\", coId);\n      await updateDoc(ref, {\n        status: \"Approved\",\n        laborBurden: laborBurden,\n        laborBillingRate: laborBillingRate,\n        materialMarkup: materialMarkup,\n        subMarkup: subMarkup,\n        laborCost: totals.laborCost,\n        laborBilling: totals.laborBilling,\n        laborMarkedUp: totals.laborMarkedUp,\n        materialMarkedUp: totals.materialMarkedUp,\n        subMarkedUp: totals.subMarkedUp,\n        amountApproved: totals.amountApproved,\n        approvedBy: user.uid,\n        approvedByName: user.displayName ?? user.email ?? \"\",\n        approvedAt: serverTimestamp(),\n        updatedAt: serverTimestamp(),\n      });\n      onClose?.();\n    } catch (err) {\n      console.error(\"Failed to approve:\", err);\n    } finally {\n      setApproving(false);\n    }\n  }\n\n  async function handleReject() {\n    if (!co) return;\n    setRejecting(true);\n    try {\n      const ref = doc(db, \"changeOrders\", coId);\n      await updateDoc(ref, {\n        status: \"Rejected\",\n        rejectionReason: rejectionReason.trim() || undefined,\n        rejectedAt: serverTimestamp(),\n        updatedAt: serverTimestamp(),\n      });\n      setShowRejectInput(false);\n      setRejectionReason(\"\");\n      onClose?.();\n    } catch (err) {\n      console.error(\"Failed to reject:\", err);\n    } finally {\n      setRejecting(false);\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\">\n        <div className=\"rounded-xl bg-white p-8 shadow-xl\">\n          <p className=\"text-sm text-gray-600\">Loading change order…</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !co) {\n    return (\n      <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\">\n        <div className=\"max-w-md rounded-xl bg-white p-6 shadow-xl\">\n          <p className=\"text-sm text-red-600\">{error ?? \"Not found.\"}</p>\n          {onClose && (\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"mt-4 rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50\"\n            >\n              Close\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  const status = (co.status as COStatus) ?? \"Draft\";\n  const canEditRates = status === \"Submitted\" || status === \"Under Review\";\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\">\n      <div className=\"max-h-[90vh] w-full max-w-3xl overflow-y-auto rounded-xl bg-white shadow-xl\">\n        {/* Header */}\n        <div className=\"sticky top-0 z-10 flex items-center justify-between border-b border-gray-200 bg-white px-6 py-4\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">\n            Change order — {(co.coNumber as string) || coId}\n          </h2>\n          {onClose && (\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"rounded-lg px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-100\"\n            >\n              Close\n            </button>\n          )}\n        </div>\n\n        <div className=\"space-y-6 p-6\">\n          {/* Details (read-only) */}\n          <div className=\"rounded-xl bg-slate-50 p-4\">\n            <h3 className=\"border-b border-slate-200 pb-2 text-sm font-semibold uppercase tracking-wide text-gray-700\">\n              Details\n            </h3>\n            <dl className=\"mt-4 grid gap-3 sm:grid-cols-2\">\n              <div>\n                <dt className=\"text-xs text-gray-500\">Job</dt>\n                <dd className=\"font-medium text-gray-900\">\n                  {(co.jobNumber as string) ?? \"\"} — {(co.jobName as string) ?? \"\"}\n                </dd>\n              </div>\n              <div>\n                <dt className=\"text-xs text-gray-500\">Category</dt>\n                <dd className=\"font-medium text-gray-900\">{(co.category as string) ?? \"—\"}</dd>\n              </div>\n              <div className=\"sm:col-span-2\">\n                <dt className=\"text-xs text-gray-500\">Description</dt>\n                <dd className=\"mt-0.5 font-medium text-gray-900 whitespace-pre-wrap\">\n                  {(co.description as string) ?? \"—\"}\n                </dd>\n              </div>\n              <div>\n                <dt className=\"text-xs text-gray-500\">Status</dt>\n                <dd>\n                  <span\n                    className={`inline-flex rounded-full px-2.5 py-0.5 text-xs font-semibold ${\n                      STATUS_BADGE_CLASS[status]\n                    }`}\n                  >\n                    {status}\n                  </span>\n                </dd>\n              </div>\n              <div>\n                <dt className=\"text-xs text-gray-500\">Requested by</dt>\n                <dd className=\"font-medium text-gray-900\">\n                  {(co.requestedByName as string) ?? \"—\"}\n                </dd>\n              </div>\n              <div>\n                <dt className=\"text-xs text-gray-500\">Date</dt>\n                <dd className=\"font-medium text-gray-900\">\n                  {formatDate(co.createdAt)}\n                </dd>\n              </div>\n            </dl>\n          </div>\n\n          {/* Raw costs (read-only) */}\n          <div className=\"rounded-xl bg-slate-50 p-4\">\n            <h3 className=\"border-b border-slate-200 pb-2 text-sm font-semibold uppercase tracking-wide text-gray-700\">\n              Raw costs\n            </h3>\n            <dl className=\"mt-4 grid grid-cols-2 gap-3 sm:grid-cols-3\">\n              <div>\n                <dt className=\"text-xs text-gray-500\">Labor</dt>\n                <dd className=\"font-medium text-gray-900\">\n                  {Number(co.laborHours) ?? 0} hours\n                </dd>\n              </div>\n              <div>\n                <dt className=\"text-xs text-gray-500\">Material</dt>\n                <dd className=\"font-medium text-gray-900\">\n                  {formatCurrency(Number(co.materialCost) || 0)}\n                </dd>\n              </div>\n              <div>\n                <dt className=\"text-xs text-gray-500\">Equipment</dt>\n                <dd className=\"font-medium text-gray-900\">\n                  {formatCurrency(Number(co.equipmentCost) || 0)}\n                </dd>\n              </div>\n              <div>\n                <dt className=\"text-xs text-gray-500\">Subcontractor</dt>\n                <dd className=\"font-medium text-gray-900\">\n                  {formatCurrency(Number(co.subcontractorCost) || 0)}\n                </dd>\n              </div>\n              <div>\n                <dt className=\"text-xs text-gray-500\">Other</dt>\n                <dd className=\"font-medium text-gray-900\">\n                  {formatCurrency(Number(co.otherCost) || 0)}\n                </dd>\n              </div>\n              <div>\n                <dt className=\"text-xs text-gray-500\">Amount requested</dt>\n                <dd className=\"font-semibold text-gray-900\">\n                  {formatCurrency(Number(co.amountRequested) || 0)}\n                </dd>\n              </div>\n            </dl>\n          </div>\n\n          {/* Rates (editable only when Submitted or Under Review) */}\n          <div className=\"rounded-xl bg-indigo-50 p-4\">\n            <h3 className=\"border-b border-indigo-100 pb-2 text-sm font-semibold uppercase tracking-wide text-gray-700\">\n              Rates & markup\n            </h3>\n            <div className=\"mt-4 grid grid-cols-2 gap-4 sm:grid-cols-4\">\n              <div>\n                <label className=\"block text-xs font-medium text-gray-700\">\n                  Labor Burden $/hr\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"1\"\n                  min={0}\n                  value={laborBurden}\n                  onChange={(e) => setLaborBurden(Number(e.target.value) || 0)}\n                  disabled={!canEditRates}\n                  className=\"mt-1 block w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm disabled:bg-gray-100 disabled:text-gray-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-xs font-medium text-gray-700\">\n                  Labor Billing Rate $/hr\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"1\"\n                  min={0}\n                  value={laborBillingRate}\n                  onChange={(e) => setLaborBillingRate(Number(e.target.value) || 0)}\n                  disabled={!canEditRates}\n                  className=\"mt-1 block w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm disabled:bg-gray-100 disabled:text-gray-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-xs font-medium text-gray-700\">\n                  Material Markup %\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"1\"\n                  min={0}\n                  max={200}\n                  value={materialMarkup}\n                  onChange={(e) => setMaterialMarkup(Number(e.target.value) || 0)}\n                  disabled={!canEditRates}\n                  className=\"mt-1 block w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm disabled:bg-gray-100 disabled:text-gray-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-xs font-medium text-gray-700\">\n                  Sub Markup %\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"1\"\n                  min={0}\n                  max={200}\n                  value={subMarkup}\n                  onChange={(e) => setSubMarkup(Number(e.target.value) || 0)}\n                  disabled={!canEditRates}\n                  className=\"mt-1 block w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm disabled:bg-gray-100 disabled:text-gray-500\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Tier reference cards */}\n          <div className=\"grid gap-4 sm:grid-cols-2\">\n            <div className=\"rounded-xl bg-emerald-50 p-4\">\n              <h3 className=\"border-b border-emerald-100 pb-2 text-sm font-semibold uppercase tracking-wide text-gray-700\">\n                Labor rate tiers (suggested $/hr)\n              </h3>\n              <ul className=\"mt-3 space-y-1.5 text-sm text-gray-700\">\n                {LABOR_RATE_TIERS.map((t) => (\n                  <li key={t.label}>\n                    {t.label}: {t.suggested}\n                  </li>\n                ))}\n              </ul>\n            </div>\n            <div className=\"rounded-xl bg-emerald-50 p-4\">\n              <h3 className=\"border-b border-emerald-100 pb-2 text-sm font-semibold uppercase tracking-wide text-gray-700\">\n                Material markup tiers (suggested %)\n              </h3>\n              <ul className=\"mt-3 space-y-1.5 text-sm text-gray-700\">\n                {MATERIAL_MARKUP_TIERS.map((t) => (\n                  <li key={t.label}>\n                    {t.label}: {t.suggested}%\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n\n          {/* Live totals */}\n          {totals && (\n            <div className=\"rounded-xl bg-emerald-50 p-4\">\n              <h3 className=\"border-b border-emerald-100 pb-2 text-sm font-semibold uppercase tracking-wide text-gray-700\">\n                Calculated totals\n              </h3>\n              <div className=\"mt-4 grid grid-cols-2 gap-x-6 gap-y-3 text-sm sm:grid-cols-3\">\n                <div>\n                  <span className=\"text-gray-600\">Labor cost</span>\n                  <p className=\"font-medium text-gray-900\">{formatCurrency(totals.laborCost)}</p>\n                </div>\n                <div>\n                  <span className=\"text-gray-600\">Labor billing</span>\n                  <p className=\"font-medium text-gray-900\">{formatCurrency(totals.laborBilling)}</p>\n                </div>\n                <div>\n                  <span className=\"text-gray-600\">Labor marked up</span>\n                  <p className=\"font-medium text-gray-900\">{formatCurrency(totals.laborMarkedUp)}</p>\n                </div>\n                <div>\n                  <span className=\"text-gray-600\">Material marked up</span>\n                  <p className=\"font-medium text-gray-900\">{formatCurrency(totals.materialMarkedUp)}</p>\n                </div>\n                <div>\n                  <span className=\"text-gray-600\">Sub marked up</span>\n                  <p className=\"font-medium text-gray-900\">{formatCurrency(totals.subMarkedUp)}</p>\n                </div>\n                <div>\n                  <span className=\"text-gray-600\">Amount approved</span>\n                  <p className=\"font-semibold text-emerald-800\">{formatCurrency(totals.amountApproved)}</p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Rejection reason (inline when Reject clicked) */}\n          {showRejectInput && (\n            <div className=\"rounded-xl border border-red-200 bg-red-50/50 p-4\">\n              <label className=\"block text-sm font-medium text-gray-700\">\n                Rejection reason\n              </label>\n              <textarea\n                value={rejectionReason}\n                onChange={(e) => setRejectionReason(e.target.value)}\n                rows={3}\n                placeholder=\"Optional reason for rejection...\"\n                className=\"mt-2 block w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm focus:border-red-500 focus:ring-1 focus:ring-red-500\"\n              />\n              <div className=\"mt-3 flex gap-2\">\n                <button\n                  type=\"button\"\n                  onClick={handleReject}\n                  disabled={rejecting}\n                  className=\"rounded-lg bg-red-600 px-4 py-2 text-sm font-semibold text-white hover:bg-red-700 disabled:opacity-60\"\n                >\n                  {rejecting ? \"Rejecting…\" : \"Confirm reject\"}\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => setShowRejectInput(false)}\n                  disabled={rejecting}\n                  className=\"rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          )}\n\n          {/* Actions: Approve / Reject (only when Under Review or Submitted) */}\n          {canEditRates && !showRejectInput && (\n            <div className=\"flex flex-wrap gap-3 border-t border-gray-200 pt-4\">\n              <button\n                type=\"button\"\n                onClick={handleApprove}\n                disabled={approving}\n                className=\"rounded-xl bg-green-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-green-700 disabled:opacity-60\"\n              >\n                {approving ? \"Approving…\" : \"Approve\"}\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setShowRejectInput(true)}\n                disabled={approving}\n                className=\"rounded-xl border border-red-300 bg-white px-5 py-2.5 text-sm font-semibold text-red-700 shadow-sm hover:bg-red-50 disabled:opacity-60\"\n              >\n                Reject\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAMA;AAOA;AAhBA;;;;;;AAkBA,MAAM,qBAA+C;IACnD,OAAO;IACP,WAAW;IACX,gBAAgB;IAChB,UAAU;IACV,UAAU;IACV,UAAU;IACV,QAAQ;AACV;AAOA,SAAS,eAAe,CAAS;IAC/B,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAEA,SAAS,WAAW,KAAc;IAChC,IAAI,SAAS,MAAM,OAAO;IAC1B,IAAI,OAAO,UAAU,YAAY,YAAY,SAAS,OAAO,AAAC,MAAiC,MAAM,KAAK,YAAY;QACpH,OAAO,IAAI,KAAK,AAAC,MAAiC,MAAM,IAAI,cAAc;IAC5E;IACA,IAAI,OAAO,UAAU,YAAY,OAAO,UAAU,UAAU;QAC1D,OAAO,IAAI,KAAK,OAAO,cAAc;IACvC;IACA,OAAO;AACT;AAEO,SAAS,kBAAkB,EAAE,IAAI,EAAE,OAAO,EAA0B;IACzE,MAAM,CAAC,IAAI,MAAM,GAAG,IAAA,gUAAQ,EAAiC;IAC7D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gUAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gUAAQ,EAAgB;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gUAAQ,EAAC;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gUAAQ,EAAC;IAC3C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,gUAAQ,EAAC;IACvD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,gUAAQ,EAAC;IAEvD,iEAAiE;IACjE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gUAAQ,EAAC;IAC/C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,gUAAQ,EAAC;IACzD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,gUAAQ,EAAC;IACrD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gUAAQ,EAAC;IAE3C,IAAA,iUAAS,EAAC;QACR,IAAI,YAAY;QAEhB,eAAe;YACb,WAAW;YACX,SAAS;YACT,IAAI;gBACF,MAAM,MAAM,IAAA,iRAAG,EAAC,4HAAE,EAAE,gBAAgB;gBACpC,MAAM,OAAO,MAAM,IAAA,oRAAM,EAAC;gBAC1B,IAAI,WAAW;gBACf,IAAI,CAAC,KAAK,MAAM,IAAI;oBAClB,SAAS;oBACT,MAAM;oBACN;gBACF;gBACA,MAAM,OAAO;oBAAE,IAAI,KAAK,EAAE;oBAAE,GAAG,KAAK,IAAI,EAAE;gBAAC;gBAC3C,MAAM;gBAEN,MAAM,SAAS,KAAK,MAAM;gBAC1B,IAAI,WAAW,aAAa;oBAC1B,MAAM,IAAA,uRAAS,EAAC,KAAK;wBACnB,QAAQ;wBACR,eAAe,IAAA,6RAAe;wBAC9B,WAAW,IAAA,6RAAe;oBAC5B;oBACA,IAAI,CAAC,WAAW,MAAM,CAAC,OAAU,OAAO;4BAAE,GAAG,IAAI;4BAAE,QAAQ;wBAAe,IAAI;gBAChF;gBAEA,kCAAkC;gBAClC,MAAM,KAAK,OAAO,KAAK,WAAW,KAAK;gBACvC,MAAM,MAAM,OAAO,KAAK,gBAAgB,KAAK,IAAA,gJAAgB,EAAC,OAAO,KAAK,UAAU,KAAK;gBACzF,MAAM,KAAK,OAAO,KAAK,cAAc,KAAK,IAAA,qJAAqB,EAAC,OAAO,KAAK,YAAY,KAAK;gBAC7F,MAAM,KAAK,OAAO,KAAK,SAAS,KAAK;gBACrC,eAAe;gBACf,oBAAoB;gBACpB,kBAAkB;gBAClB,aAAa;YACf,EAAE,OAAO,KAAK;gBACZ,IAAI,CAAC,WAAW;oBACd,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;oBAC9C,MAAM;gBACR;YACF,SAAU;gBACR,IAAI,CAAC,WAAW,WAAW;YAC7B;QACF;QAEA;QACA,OAAO;YAAQ,YAAY;QAAM;IACnC,GAAG;QAAC;KAAK;IAET,MAAM,SAAS,IAAA,+TAAO,EAAC;QACrB,IAAI,CAAC,IAAI,OAAO;QAChB,MAAM,QAAQ,OAAO,GAAG,UAAU,KAAK;QACvC,MAAM,SAAS,OAAO,gBAAgB;QACtC,MAAM,OAAO,OAAO,qBAAqB;QACzC,MAAM,MAAM,OAAO,GAAG,YAAY,KAAK;QACvC,MAAM,SAAS,OAAO,mBAAmB;QACzC,MAAM,MAAM,OAAO,GAAG,iBAAiB,KAAK;QAC5C,MAAM,QAAQ,OAAO,GAAG,SAAS,KAAK;QACtC,MAAM,SAAS,OAAO,cAAc;QAEpC,MAAM,YAAY,QAAQ;QAC1B,MAAM,eAAe,QAAQ;QAC7B,MAAM,gBAAgB;QACtB,MAAM,mBAAmB,MAAM,CAAC,IAAI,SAAS,GAAG;QAChD,MAAM,cAAc,CAAC,MAAM,KAAK,IAAI,CAAC,IAAI,SAAS,GAAG;QACrD,MAAM,iBAAiB,gBAAgB,mBAAmB;QAE1D,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;QACF;IACF,GAAG;QAAC;QAAI;QAAa;QAAkB;QAAgB;KAAU;IAEjE,eAAe;QACb,IAAI,CAAC,MAAM,CAAC,QAAQ;QACpB,MAAM,OAAO,8HAAI,CAAC,WAAW;QAC7B,IAAI,CAAC,MAAM;QACX,aAAa;QACb,IAAI;YACF,MAAM,MAAM,IAAA,iRAAG,EAAC,4HAAE,EAAE,gBAAgB;YACpC,MAAM,IAAA,uRAAS,EAAC,KAAK;gBACnB,QAAQ;gBACR,aAAa;gBACb,kBAAkB;gBAClB,gBAAgB;gBAChB,WAAW;gBACX,WAAW,OAAO,SAAS;gBAC3B,cAAc,OAAO,YAAY;gBACjC,eAAe,OAAO,aAAa;gBACnC,kBAAkB,OAAO,gBAAgB;gBACzC,aAAa,OAAO,WAAW;gBAC/B,gBAAgB,OAAO,cAAc;gBACrC,YAAY,KAAK,GAAG;gBACpB,gBAAgB,KAAK,WAAW,IAAI,KAAK,KAAK,IAAI;gBAClD,YAAY,IAAA,6RAAe;gBAC3B,WAAW,IAAA,6RAAe;YAC5B;YACA;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,sBAAsB;QACtC,SAAU;YACR,aAAa;QACf;IACF;IAEA,eAAe;QACb,IAAI,CAAC,IAAI;QACT,aAAa;QACb,IAAI;YACF,MAAM,MAAM,IAAA,iRAAG,EAAC,4HAAE,EAAE,gBAAgB;YACpC,MAAM,IAAA,uRAAS,EAAC,KAAK;gBACnB,QAAQ;gBACR,iBAAiB,gBAAgB,IAAI,MAAM;gBAC3C,YAAY,IAAA,6RAAe;gBAC3B,WAAW,IAAA,6RAAe;YAC5B;YACA,mBAAmB;YACnB,mBAAmB;YACnB;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,qBAAqB;QACrC,SAAU;YACR,aAAa;QACf;IACF;IAEA,IAAI,SAAS;QACX,qBACE,6VAAC;YAAI,WAAU;sBACb,cAAA,6VAAC;gBAAI,WAAU;0BACb,cAAA,6VAAC;oBAAE,WAAU;8BAAwB;;;;;;;;;;;;;;;;IAI7C;IAEA,IAAI,SAAS,CAAC,IAAI;QAChB,qBACE,6VAAC;YAAI,WAAU;sBACb,cAAA,6VAAC;gBAAI,WAAU;;kCACb,6VAAC;wBAAE,WAAU;kCAAwB,SAAS;;;;;;oBAC7C,yBACC,6VAAC;wBACC,MAAK;wBACL,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;IAOX;IAEA,MAAM,SAAS,AAAC,GAAG,MAAM,IAAiB;IAC1C,MAAM,eAAe,WAAW,eAAe,WAAW;IAE1D,qBACE,6VAAC;QAAI,WAAU;kBACb,cAAA,6VAAC;YAAI,WAAU;;8BAEb,6VAAC;oBAAI,WAAU;;sCACb,6VAAC;4BAAG,WAAU;;gCAAsC;gCACjC,GAAG,QAAQ,IAAe;;;;;;;wBAE5C,yBACC,6VAAC;4BACC,MAAK;4BACL,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;8BAML,6VAAC;oBAAI,WAAU;;sCAEb,6VAAC;4BAAI,WAAU;;8CACb,6VAAC;oCAAG,WAAU;8CAA6F;;;;;;8CAG3G,6VAAC;oCAAG,WAAU;;sDACZ,6VAAC;;8DACC,6VAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,6VAAC;oDAAG,WAAU;;wDACV,GAAG,SAAS,IAAe;wDAAG;wDAAK,GAAG,OAAO,IAAe;;;;;;;;;;;;;sDAGlE,6VAAC;;8DACC,6VAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,6VAAC;oDAAG,WAAU;8DAA6B,AAAC,GAAG,QAAQ,IAAe;;;;;;;;;;;;sDAExE,6VAAC;4CAAI,WAAU;;8DACb,6VAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,6VAAC;oDAAG,WAAU;8DACX,AAAC,GAAG,WAAW,IAAe;;;;;;;;;;;;sDAGnC,6VAAC;;8DACC,6VAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,6VAAC;8DACC,cAAA,6VAAC;wDACC,WAAW,CAAC,6DAA6D,EACvE,kBAAkB,CAAC,OAAO,EAC1B;kEAED;;;;;;;;;;;;;;;;;sDAIP,6VAAC;;8DACC,6VAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,6VAAC;oDAAG,WAAU;8DACX,AAAC,GAAG,eAAe,IAAe;;;;;;;;;;;;sDAGvC,6VAAC;;8DACC,6VAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,6VAAC;oDAAG,WAAU;8DACX,WAAW,GAAG,SAAS;;;;;;;;;;;;;;;;;;;;;;;;sCAOhC,6VAAC;4BAAI,WAAU;;8CACb,6VAAC;oCAAG,WAAU;8CAA6F;;;;;;8CAG3G,6VAAC;oCAAG,WAAU;;sDACZ,6VAAC;;8DACC,6VAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,6VAAC;oDAAG,WAAU;;wDACX,OAAO,GAAG,UAAU,KAAK;wDAAE;;;;;;;;;;;;;sDAGhC,6VAAC;;8DACC,6VAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,6VAAC;oDAAG,WAAU;8DACX,eAAe,OAAO,GAAG,YAAY,KAAK;;;;;;;;;;;;sDAG/C,6VAAC;;8DACC,6VAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,6VAAC;oDAAG,WAAU;8DACX,eAAe,OAAO,GAAG,aAAa,KAAK;;;;;;;;;;;;sDAGhD,6VAAC;;8DACC,6VAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,6VAAC;oDAAG,WAAU;8DACX,eAAe,OAAO,GAAG,iBAAiB,KAAK;;;;;;;;;;;;sDAGpD,6VAAC;;8DACC,6VAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,6VAAC;oDAAG,WAAU;8DACX,eAAe,OAAO,GAAG,SAAS,KAAK;;;;;;;;;;;;sDAG5C,6VAAC;;8DACC,6VAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,6VAAC;oDAAG,WAAU;8DACX,eAAe,OAAO,GAAG,eAAe,KAAK;;;;;;;;;;;;;;;;;;;;;;;;sCAOtD,6VAAC;4BAAI,WAAU;;8CACb,6VAAC;oCAAG,WAAU;8CAA8F;;;;;;8CAG5G,6VAAC;oCAAI,WAAU;;sDACb,6VAAC;;8DACC,6VAAC;oDAAM,WAAU;8DAA0C;;;;;;8DAG3D,6VAAC;oDACC,MAAK;oDACL,MAAK;oDACL,KAAK;oDACL,OAAO;oDACP,UAAU,CAAC,IAAM,eAAe,OAAO,EAAE,MAAM,CAAC,KAAK,KAAK;oDAC1D,UAAU,CAAC;oDACX,WAAU;;;;;;;;;;;;sDAGd,6VAAC;;8DACC,6VAAC;oDAAM,WAAU;8DAA0C;;;;;;8DAG3D,6VAAC;oDACC,MAAK;oDACL,MAAK;oDACL,KAAK;oDACL,OAAO;oDACP,UAAU,CAAC,IAAM,oBAAoB,OAAO,EAAE,MAAM,CAAC,KAAK,KAAK;oDAC/D,UAAU,CAAC;oDACX,WAAU;;;;;;;;;;;;sDAGd,6VAAC;;8DACC,6VAAC;oDAAM,WAAU;8DAA0C;;;;;;8DAG3D,6VAAC;oDACC,MAAK;oDACL,MAAK;oDACL,KAAK;oDACL,KAAK;oDACL,OAAO;oDACP,UAAU,CAAC,IAAM,kBAAkB,OAAO,EAAE,MAAM,CAAC,KAAK,KAAK;oDAC7D,UAAU,CAAC;oDACX,WAAU;;;;;;;;;;;;sDAGd,6VAAC;;8DACC,6VAAC;oDAAM,WAAU;8DAA0C;;;;;;8DAG3D,6VAAC;oDACC,MAAK;oDACL,MAAK;oDACL,KAAK;oDACL,KAAK;oDACL,OAAO;oDACP,UAAU,CAAC,IAAM,aAAa,OAAO,EAAE,MAAM,CAAC,KAAK,KAAK;oDACxD,UAAU,CAAC;oDACX,WAAU;;;;;;;;;;;;;;;;;;;;;;;;sCAOlB,6VAAC;4BAAI,WAAU;;8CACb,6VAAC;oCAAI,WAAU;;sDACb,6VAAC;4CAAG,WAAU;sDAA+F;;;;;;sDAG7G,6VAAC;4CAAG,WAAU;sDACX,gJAAgB,CAAC,GAAG,CAAC,CAAC,kBACrB,6VAAC;;wDACE,EAAE,KAAK;wDAAC;wDAAG,EAAE,SAAS;;mDADhB,EAAE,KAAK;;;;;;;;;;;;;;;;8CAMtB,6VAAC;oCAAI,WAAU;;sDACb,6VAAC;4CAAG,WAAU;sDAA+F;;;;;;sDAG7G,6VAAC;4CAAG,WAAU;sDACX,qJAAqB,CAAC,GAAG,CAAC,CAAC,kBAC1B,6VAAC;;wDACE,EAAE,KAAK;wDAAC;wDAAG,EAAE,SAAS;wDAAC;;mDADjB,EAAE,KAAK;;;;;;;;;;;;;;;;;;;;;;wBASvB,wBACC,6VAAC;4BAAI,WAAU;;8CACb,6VAAC;oCAAG,WAAU;8CAA+F;;;;;;8CAG7G,6VAAC;oCAAI,WAAU;;sDACb,6VAAC;;8DACC,6VAAC;oDAAK,WAAU;8DAAgB;;;;;;8DAChC,6VAAC;oDAAE,WAAU;8DAA6B,eAAe,OAAO,SAAS;;;;;;;;;;;;sDAE3E,6VAAC;;8DACC,6VAAC;oDAAK,WAAU;8DAAgB;;;;;;8DAChC,6VAAC;oDAAE,WAAU;8DAA6B,eAAe,OAAO,YAAY;;;;;;;;;;;;sDAE9E,6VAAC;;8DACC,6VAAC;oDAAK,WAAU;8DAAgB;;;;;;8DAChC,6VAAC;oDAAE,WAAU;8DAA6B,eAAe,OAAO,aAAa;;;;;;;;;;;;sDAE/E,6VAAC;;8DACC,6VAAC;oDAAK,WAAU;8DAAgB;;;;;;8DAChC,6VAAC;oDAAE,WAAU;8DAA6B,eAAe,OAAO,gBAAgB;;;;;;;;;;;;sDAElF,6VAAC;;8DACC,6VAAC;oDAAK,WAAU;8DAAgB;;;;;;8DAChC,6VAAC;oDAAE,WAAU;8DAA6B,eAAe,OAAO,WAAW;;;;;;;;;;;;sDAE7E,6VAAC;;8DACC,6VAAC;oDAAK,WAAU;8DAAgB;;;;;;8DAChC,6VAAC;oDAAE,WAAU;8DAAkC,eAAe,OAAO,cAAc;;;;;;;;;;;;;;;;;;;;;;;;wBAO1F,iCACC,6VAAC;4BAAI,WAAU;;8CACb,6VAAC;oCAAM,WAAU;8CAA0C;;;;;;8CAG3D,6VAAC;oCACC,OAAO;oCACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;oCAClD,MAAM;oCACN,aAAY;oCACZ,WAAU;;;;;;8CAEZ,6VAAC;oCAAI,WAAU;;sDACb,6VAAC;4CACC,MAAK;4CACL,SAAS;4CACT,UAAU;4CACV,WAAU;sDAET,YAAY,eAAe;;;;;;sDAE9B,6VAAC;4CACC,MAAK;4CACL,SAAS,IAAM,mBAAmB;4CAClC,UAAU;4CACV,WAAU;sDACX;;;;;;;;;;;;;;;;;;wBAQN,gBAAgB,CAAC,iCAChB,6VAAC;4BAAI,WAAU;;8CACb,6VAAC;oCACC,MAAK;oCACL,SAAS;oCACT,UAAU;oCACV,WAAU;8CAET,YAAY,eAAe;;;;;;8CAE9B,6VAAC;oCACC,MAAK;oCACL,SAAS,IAAM,mBAAmB;oCAClC,UAAU;oCACV,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf"}},
    {"offset": {"line": 1409, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/NathanParker/SynologyDrive/parker-bos/src/app/change-orders/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport Link from \"next/link\";\nimport {\n  collection,\n  doc,\n  onSnapshot,\n  orderBy,\n  query,\n  updateDoc,\n  serverTimestamp,\n} from \"firebase/firestore\";\nimport { ChangeOrderReview } from \"@/components/ChangeOrderReview\";\nimport { db } from \"@/lib/firebase\";\n\ntype COStatus =\n  | \"Draft\"\n  | \"Submitted\"\n  | \"Under Review\"\n  | \"Approved\"\n  | \"Rejected\"\n  | \"Executed\"\n  | \"Billed\";\n\nconst CO_STATUSES: COStatus[] = [\n  \"Draft\",\n  \"Submitted\",\n  \"Under Review\",\n  \"Approved\",\n  \"Rejected\",\n  \"Executed\",\n  \"Billed\",\n];\n\nconst STATUS_BADGE_CLASS: Record<COStatus, string> = {\n  Draft: \"bg-gray-100 text-gray-800\",\n  Submitted: \"bg-blue-100 text-blue-800\",\n  \"Under Review\": \"bg-yellow-100 text-yellow-800\",\n  Approved: \"bg-green-100 text-green-800\",\n  Rejected: \"bg-red-100 text-red-800\",\n  Executed: \"bg-purple-100 text-purple-800\",\n  Billed: \"bg-teal-100 text-teal-800\",\n};\n\ntype ChangeOrderRow = {\n  id: string;\n  coNumber: string;\n  jobNumber: string;\n  jobName: string;\n  subject: string;\n  description: string;\n  amountRequested: number;\n  amountApproved: number;\n  status: COStatus;\n};\n\nfunction formatCurrency(n: number): string {\n  return new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  }).format(n);\n}\n\nfunction truncate(s: string, max: number): string {\n  if (s.length <= max) return s;\n  return s.slice(0, max).trim() + \"…\";\n}\n\nexport default function ChangeOrdersPage() {\n  const [rows, setRows] = useState<ChangeOrderRow[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [statusFilter, setStatusFilter] = useState<string>(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [reviewCoId, setReviewCoId] = useState<string | null>(null);\n  const [submittingId, setSubmittingId] = useState<string | null>(null);\n\n  useEffect(() => {\n    const q = query(\n      collection(db, \"changeOrders\"),\n      orderBy(\"createdAt\", \"desc\")\n    );\n    const unsubscribe = onSnapshot(\n      q,\n      (snapshot) => {\n        const list: ChangeOrderRow[] = snapshot.docs.map((docSnap) => {\n          const d = docSnap.data();\n          return {\n            id: docSnap.id,\n            coNumber: (d.coNumber as string) ?? \"\",\n            jobNumber: (d.jobNumber as string) ?? \"\",\n            jobName: (d.jobName as string) ?? \"\",\n            subject: (d.subject as string) ?? \"\",\n            description: (d.description as string) ?? \"\",\n            amountRequested: Number(d.amountRequested) ?? 0,\n            amountApproved: Number(d.amountApproved) ?? 0,\n            status: (d.status as COStatus) ?? \"Draft\",\n          };\n        });\n        setRows(list);\n        setLoading(false);\n      },\n      (err) => {\n        console.error(\"changeOrders onSnapshot error:\", err);\n        setLoading(false);\n      }\n    );\n    return () => unsubscribe();\n  }, []);\n\n  const filteredRows = useMemo(() => {\n    let list = rows;\n\n    if (statusFilter) {\n      list = list.filter((r) => r.status === statusFilter);\n    }\n\n    if (search.trim()) {\n      const term = search.trim().toLowerCase();\n      list = list.filter(\n        (r) =>\n          r.coNumber.toLowerCase().includes(term) ||\n          r.jobNumber.toLowerCase().includes(term) ||\n          r.jobName.toLowerCase().includes(term) ||\n          (r.subject && r.subject.toLowerCase().includes(term)) ||\n          (r.description && r.description.toLowerCase().includes(term))\n      );\n    }\n\n    return list;\n  }, [rows, statusFilter, search]);\n\n  const summary = useMemo(() => {\n    const total = rows.length;\n    const pendingReview = rows.filter(\n      (r) => r.status === \"Submitted\" || r.status === \"Under Review\"\n    ).length;\n    const approved = rows.filter((r) => r.status === \"Approved\").length;\n    const totalApprovedValue = rows\n      .filter((r) => r.status === \"Approved\")\n      .reduce((sum, r) => sum + r.amountApproved, 0);\n\n    return { total, pendingReview, approved, totalApprovedValue };\n  }, [rows]);\n\n  async function handleSubmit(coId: string) {\n    setSubmittingId(coId);\n    try {\n      const ref = doc(db, \"changeOrders\", coId);\n      await updateDoc(ref, {\n        status: \"Submitted\",\n        submittedAt: serverTimestamp(),\n        updatedAt: serverTimestamp(),\n      });\n    } catch (err) {\n      console.error(\"Failed to submit CO:\", err);\n    } finally {\n      setSubmittingId(null);\n    }\n  }\n\n  function openReview(id: string) {\n    setReviewCoId(id);\n  }\n\n  function closeReview() {\n    setReviewCoId(null);\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8\">\n        <div className=\"flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">Change Orders</h1>\n            <p className=\"mt-1 text-sm text-gray-600\">\n              Review and manage change orders.\n            </p>\n          </div>\n          <Link\n            href=\"/change-orders/new\"\n            className=\"inline-flex items-center rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n          >\n            + New CO\n          </Link>\n        </div>\n\n        {/* Summary cards */}\n        <div className=\"mt-8 grid grid-cols-2 gap-4 lg:grid-cols-4\">\n          <div className=\"rounded-xl border border-gray-200 bg-white p-4 shadow-sm\">\n            <p className=\"text-xs font-medium uppercase tracking-wide text-gray-500\">\n              Total COs\n            </p>\n            <p className=\"mt-1 text-2xl font-semibold text-gray-900\">\n              {summary.total}\n            </p>\n          </div>\n          <div className=\"rounded-xl border border-gray-200 bg-white p-4 shadow-sm\">\n            <p className=\"text-xs font-medium uppercase tracking-wide text-gray-500\">\n              Pending Review\n            </p>\n            <p className=\"mt-1 text-2xl font-semibold text-gray-900\">\n              {summary.pendingReview}\n            </p>\n          </div>\n          <div className=\"rounded-xl border border-gray-200 bg-white p-4 shadow-sm\">\n            <p className=\"text-xs font-medium uppercase tracking-wide text-gray-500\">\n              Approved\n            </p>\n            <p className=\"mt-1 text-2xl font-semibold text-gray-900\">\n              {summary.approved}\n            </p>\n          </div>\n          <div className=\"rounded-xl border border-gray-200 bg-white p-4 shadow-sm\">\n            <p className=\"text-xs font-medium uppercase tracking-wide text-gray-500\">\n              Total Approved Value\n            </p>\n            <p className=\"mt-1 text-2xl font-semibold text-gray-900\">\n              {formatCurrency(summary.totalApprovedValue)}\n            </p>\n          </div>\n        </div>\n\n        {/* Filters */}\n        <div className=\"mt-8 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\n          <div className=\"flex flex-wrap items-center gap-3\">\n            <label htmlFor=\"status\" className=\"sr-only\">\n              Filter by status\n            </label>\n            <select\n              id=\"status\"\n              value={statusFilter}\n              onChange={(e) => setStatusFilter(e.target.value)}\n              className=\"rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n            >\n              <option value=\"\">All Statuses</option>\n              {CO_STATUSES.map((s) => (\n                <option key={s} value={s}>\n                  {s}\n                </option>\n              ))}\n            </select>\n          </div>\n          <div className=\"w-full sm:w-72\">\n            <label htmlFor=\"search\" className=\"sr-only\">\n              Search\n            </label>\n            <input\n              id=\"search\"\n              type=\"text\"\n              placeholder=\"Search by CO #, job, subject…\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              className=\"block w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n            />\n          </div>\n        </div>\n\n        {/* Table */}\n        <div className=\"mt-6 overflow-x-auto rounded-xl border border-gray-100 bg-white shadow-sm\">\n          {loading ? (\n            <div className=\"px-6 py-12 text-center text-sm text-gray-500\">\n              Loading change orders…\n            </div>\n          ) : filteredRows.length === 0 ? (\n            <div className=\"px-6 py-12 text-center\">\n              <p className=\"text-sm text-gray-500\">\n                {rows.length === 0\n                  ? \"No change orders yet. Create one to get started.\"\n                  : \"No change orders match the current filters.\"}\n              </p>\n              {rows.length === 0 && (\n                <Link\n                  href=\"/change-orders/new\"\n                  className=\"mt-3 inline-block text-sm font-semibold text-blue-600 hover:text-blue-700\"\n                >\n                  + New CO\n                </Link>\n              )}\n            </div>\n          ) : (\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead>\n                <tr>\n                  <th className=\"bg-gray-50 px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-600\">\n                    CO Number\n                  </th>\n                  <th className=\"bg-gray-50 px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-600\">\n                    Job\n                  </th>\n                  <th className=\"bg-gray-50 px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-600\">\n                    Subject\n                  </th>\n                  <th className=\"bg-gray-50 px-4 py-3 text-right text-xs font-semibold uppercase tracking-wide text-gray-600\">\n                    Amount Requested\n                  </th>\n                  <th className=\"bg-gray-50 px-4 py-3 text-right text-xs font-semibold uppercase tracking-wide text-gray-600\">\n                    Amount Approved\n                  </th>\n                  <th className=\"bg-gray-50 px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-600\">\n                    Status\n                  </th>\n                  <th className=\"bg-gray-50 px-4 py-3 text-right text-xs font-semibold uppercase tracking-wide text-gray-600\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-200 bg-white\">\n                {filteredRows.map((row) => (\n                  <tr key={row.id} className=\"hover:bg-gray-50/50\">\n                    <td className=\"whitespace-nowrap px-4 py-3\">\n                      <button\n                        type=\"button\"\n                        onClick={() => openReview(row.id)}\n                        className=\"text-left text-sm font-medium text-blue-600 hover:underline\"\n                      >\n                        {row.coNumber || row.id}\n                      </button>\n                    </td>\n                    <td className=\"whitespace-nowrap px-4 py-3 text-sm text-gray-900\">\n                      {row.jobNumber} — {row.jobName}\n                    </td>\n                    <td className=\"max-w-[200px] px-4 py-3 text-sm text-gray-600\">\n                      {truncate(row.subject || row.description, 60)}\n                    </td>\n                    <td className=\"whitespace-nowrap px-4 py-3 text-right text-sm text-gray-900\">\n                      {formatCurrency(row.amountRequested)}\n                    </td>\n                    <td className=\"whitespace-nowrap px-4 py-3 text-right text-sm font-medium text-gray-900\">\n                      {formatCurrency(row.amountApproved)}\n                    </td>\n                    <td className=\"whitespace-nowrap px-4 py-3\">\n                      <span\n                        className={`inline-flex rounded-full px-2.5 py-0.5 text-xs font-semibold ${\n                          STATUS_BADGE_CLASS[row.status]\n                        }`}\n                      >\n                        {row.status}\n                      </span>\n                    </td>\n                    <td className=\"whitespace-nowrap px-4 py-3 text-right\">\n                      {row.status === \"Draft\" && (\n                        <button\n                          type=\"button\"\n                          onClick={() => handleSubmit(row.id)}\n                          disabled={submittingId === row.id}\n                          className=\"rounded-lg bg-blue-600 px-3 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-blue-700 disabled:opacity-60\"\n                        >\n                          {submittingId === row.id ? \"Submitting…\" : \"Submit\"}\n                        </button>\n                      )}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          )}\n        </div>\n      </div>\n\n      {reviewCoId && (\n        <ChangeOrderReview\n          coId={reviewCoId}\n          onClose={closeReview}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}